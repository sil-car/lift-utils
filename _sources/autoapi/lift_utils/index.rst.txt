:py:mod:`lift_utils`
====================

.. py:module:: lift_utils

.. autoapi-nested-parse::

   Manipulate LIFT files and data



Submodules
----------
.. toctree::
   :titlesonly:
   :maxdepth: 1

   base/index.rst
   config/index.rst
   datatypes/index.rst
   errors/index.rst
   header/index.rst
   lexicon/index.rst
   utils/index.rst


Package Contents
----------------

Classes
~~~~~~~

.. autoapisummary::

   lift_utils.Entry
   lift_utils.Lexicon
   lift_utils.Sense




.. py:class:: Entry(xml_tree: Optional[lxml.etree._Element] = None)


   Bases: :py:obj:`lift_utils.base.Extensible`

   This is the core of a lexicon. A lexicon is made up of a set of entries.

   :ivar Optional[RefId] id: This gives a unique identifier to this ``entry``.
   :ivar Optional[str] guid: `Deprecated.` This gives a unique identifier to
       this entry in the form of a “universally unique identifier” (RFC 4122).
   :ivar Optional[int] order: This is the homograph number.
   :ivar Optional[DateTime] date_deleted: If this attribute exists then it
       indicates that the particular ``entry`` has been deleted.
   :ivar Optional[Multitext] lexical_unit: The lexical form is the primary
       lexical form as is found as the primary lexical form in the source data
       models for this standard.
   :ivar Optional[Multitext] citation: This is the form that is to be printed
       in the dictionary.
   :ivar Optional[List[Phonetic]] pronunciation_items: There can be multiple
       phonetic forms of an entry.
   :ivar Optional[List[Variant]] variant_items: Any constrained variants or
       free orthographic variants.
   :ivar Optional[List[Sense]] sense_items: This is where the definition goes.
   :ivar Optional[List[Note]] note_items: The more notes you keep the better.
   :ivar Optional[List[Relation]] relation_items: Gives a lexical relationship
       between this entry and another ``entry`` or ``sense``.
   :ivar Optional[List[Etymology]] etymology_items: Differs from a lexical
       relation in that it has no referent in the lexicon.

   .. py:method:: add_etymology() -> Etymology

      Add an empty ``Etymology`` item to the entry.
      Returns the new object, which can then be used to add data to it.


   .. py:method:: add_note() -> Note

      Add an empty ``Note`` item to the entry.
      Returns the new object, which can then be used to add data to it.


   .. py:method:: add_pronunciation() -> Phonetic

      Add an empty ``Phonetic`` item to the entry.
      Returns the new object, which can then be used to add data to it.


   .. py:method:: add_relation() -> Relation

      Add an empty ``Relation`` item to the entry.
      Returns the new object, which can then be used to add data to it.


   .. py:method:: add_sense() -> Sense

      Add an empty ``Sense`` item to the entry.
      Returns the new object, which can then be used to add data to it.


   .. py:method:: add_variant() -> Variant

      Add an empty ``Variant`` item to the entry.
      Returns the new object, which can then be used to add data to it.


   .. py:method:: get_id() -> lift_utils.datatypes.RefId

      Return the object's unique identifier


   .. py:method:: set_citation(forms_dict=None)

      Set the entry's ``Citation``.

      :var Optional[dict] forms_dict: ``dict`` keys are language codes,
          values are the text descriptions of the ``Citation``.


   .. py:method:: set_lexical_unit(forms_dict=None)

      Set the entry's ``LexicalUnit``.

      :var Optional[dict] forms_dict: ``dict`` keys are lanuage codes,
          values are text descriptions of the ``LexicalUnit``.



.. py:class:: Lexicon(path: Optional[Union[pathlib.Path, str]] = None, version: str = None, xml_tree: Optional[lxml.etree._Element] = None)


   Bases: :py:obj:`lift_utils.base.LIFTUtilsBase`

   This is the main class of the lexicon.
   It contains the header and all the entries in the database.

   :ivar str version: Specifies the lift language version number.
   :ivar Optional[str] producer: Identifies the particular producer of this
       lift file.
   :ivar Optional[Header] header: Contains the header information for the
       database.
   :ivar Optional[List[Entry]] entry_items: Each of the entries in the
       lexicon.
   :ivar Optional[Path] path: File path to a LIFT file to import.

   .. py:method:: add_entry() -> Entry

      Add an empty ``Entry`` to the lexicon.
      Returns the ``Entry`` object, which can then be used to add data to it.


   .. py:method:: find(text: str, field: str = 'gloss', match_type: str = 'contains') -> Union[Entry, Sense, None]

      Return the first matching ``Entry`` or ``Sense`` item.
      The field searched can be the entry's "lexical-unit" or "variant"
      field, the sense's "gloss" [default], "definition", or
      "grammatical-info" field, as well as any fields defined in the LIFT
      file's header.

      :var str text: The search term.
      :var str field: The field to be searched [default is "gloss"].
      :var str match_type: The kind comparison between the search term and
          the field's data. Possible values are "contains" [default],
          "exact", or "regex".


   .. py:method:: find_all(text: str = '', field: str = 'gloss', match_type: str = 'contains') -> List[Union[Entry, Sense]]

      Return all matching ``Entry`` or ``Sense`` items.
      The field searched can be the entry's "lexical-unit" or "variant"
      field, the sense's "gloss" [default], "definition", or
      "grammatical-info" field, as well as any fields defined in the LIFT
      file's header.

      :var str text: The search term.
      :var str field: The field to be searched [default is "gloss"].
      :var str match_type: The kind comparison between the search term and
          the field's data. Possible values are "contains" [default],
          "exact", or "regex".


   .. py:method:: get_item_by_id(refid: str) -> Union[Entry, Sense, None]

      Return an entry or sense by its ``id`` attribute.

      :var str refid: The ``id`` attribute of the entry or sense.


   .. py:method:: get_item_parent_by_id(refid: str) -> Union[Entry, Sense, None]

      Return an sense's parent item by the sense's ``id`` attribute.

      :var str refid: The ``id`` attribute of the entry or sense.


   .. py:method:: get_range_elements(range_name)

      Returns a generator object that lists all the names defined in the
      header for the given ``range``.

      :var str range_name: The name of the header range.


   .. py:method:: get_ranges()

      Returns a generator object that lists all the range names defined in
      the header.


   .. py:method:: show()

      Print an overview of the ``Lexicon`` in the terminal window.


   .. py:method:: to_lift(file_path: str)

      Save the ``Lexicon`` as a LIFT file.
      The LIFT-RANGES file will be automatically created in the same folder
      as the LIFT file.

      :var str file_path: Full or relative path to new LIFT file.



.. py:class:: Sense(xml_tree: Optional[lxml.etree._Element] = None)


   Bases: :py:obj:`lift_utils.base.Extensible`

   An ``entry`` is made up of a number of ``sense`` elements.

   :ivar Optional[RefId] id: This gives an identifier for this ``Sense`` so
       that things can refer to it.
   :ivar Optional[int] order: A number that is used to give the relative
       order of senses within an entry.
   :ivar Optional[GrammaticalInfo] grammatical_info: Grammatical information.
   :ivar Optional[List[Union[Gloss, Form]]] gloss_items: Each ``gloss`` is a
       single string in a single language and writing system. ``Form`` is used
       by LIFT v0.13 (FieldWorks), while ``Gloss`` is used in later versions.
   :ivar Optional[Multitext] definition: Gives the definition in multiple
       languages or writing systems.
   :ivar Optional[List[Relation]] relation_items: While a lexical relation
       isn't strictly owned by a sense it is a good place to hold it.
   :ivar Optional[List[Note]] note_items: There are lots of different types of
       notes.
   :ivar Optional[List[Example]] example_items: Examples may be used for
       different target audiences.
   :ivar Optional[List[Reversal]] reversal_items: There may be different
       reversal indexes.
   :ivar Optional[List[URLRef]] illustration_items: The picture doesn't have
       to be static.
   :ivar Optional[List[Sense]] subsense_items: Senses can form a hierarchy.

   .. py:method:: add_example() -> Example

      Add an empty ``Example`` item to the sense.
      Returns the new object, which can then be used to add data to it.


   .. py:method:: add_gloss(lang, text) -> lift_utils.base.Gloss

      Add a ``Gloss`` item to the sense.
      Returns the new object.

      :var str lang: The gloss's language.
      :var str text: The actual gloss text.


   .. py:method:: add_illustration(href=None) -> lift_utils.base.URLRef

      Add a ``URLRef`` illustration item to the sense.
      Returns the new object, which can then be used to add data to it.


   .. py:method:: add_note() -> Note

      Add an empty ``Note`` item to the sense.
      Returns the new object, which can then be used to add data to it.


   .. py:method:: add_relation() -> Relation

      Add an empty ``Relation`` item to the sense.
      Returns the new object, which can then be used to add data to it.


   .. py:method:: add_reversal() -> Reversal

      Add an empty ``Reversal`` item to the sense.
      Returns the new object, which can then be used to add data to it.


   .. py:method:: add_subsense()

      Add an empty ``Subense`` item to the sense.
      Returns the new object, which can then be used to add data to it.


   .. py:method:: get_gloss(lang='en') -> str

      Get the gloss for a given language.
      Defaults to English; falls back otherwise to the first gloss.


   .. py:method:: get_grammatical_info() -> GrammaticalInfo

      Return the grammatical-info part of speech value.
              


   .. py:method:: get_id() -> lift_utils.datatypes.RefId

      Return the object's ``id`` attribute.


   .. py:method:: set_definition(forms_dict=None)

      Set the sense's definition.

      :var Optional[dict] forms_dict: ``dict`` keys are language codes,
          values are the text for each definition.


   .. py:method:: set_grammatical_info(value: str)

      Set the sense's ``GrammaticalInfo``.

      :var str value: The part of speech tag in the ``grammatical-info``
          range.



